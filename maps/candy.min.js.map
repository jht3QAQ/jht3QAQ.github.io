{"version":3,"sources":["candy.js"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","key","value","_toPropertyKey","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","descriptor","_createClass","protoProps","staticProps","_toPrimitive","String","toPrimitive","call","Number","Circle","_ref","origin","speed","color","angle","context","this","position","renderCount","fillStyle","beginPath","arc","x","y","Math","PI","fill","sin","cos","Boom","_ref2","_ref2$circleCount","circleCount","area","stop","circles","range","floor","random","randomArray","start","end","circle","randomColor","randomRange","_this","index","width","height","splice","move","draw","CursorSpecialEffects","computerCanvas","document","createElement","renderCanvas","computerContext","getContext","renderContext","globalWidth","window","innerWidth","globalHeight","innerHeight","booms","running","boom","clientX","clientY","init","run","style","top","left","zIndex","pointerEvents","body","append","addEventListener","handleMouseDown","bind","handlePageHide","_this2","requestAnimationFrame","clearRect","drawImage","cursorSpecialEffects"],"mappings":"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","file":"../js/candy.min.js","sourcesContent":["// Copied from [DIYgod's Hexo Theme Sagiri](https://github.com/DIYgod/diygod.me/blob/master/themes/sagiri/)\r\n\r\nclass Circle {\r\n    constructor({ origin, speed, color, angle, context }) {\r\n      this.origin = origin\r\n      this.position = { ...this.origin }\r\n      this.color = color\r\n      this.speed = speed\r\n      this.angle = angle\r\n      this.context = context\r\n      this.renderCount = 0\r\n    }\r\n  \r\n    draw() {\r\n      this.context.fillStyle = this.color\r\n      this.context.beginPath()\r\n      this.context.arc(this.position.x, this.position.y, 2, 0, Math.PI * 2)\r\n      this.context.fill()\r\n    }\r\n  \r\n    move() {\r\n      this.position.x = (Math.sin(this.angle) * this.speed) + this.position.x\r\n      this.position.y = (Math.cos(this.angle) * this.speed) + this.position.y + (this.renderCount * 0.3)\r\n      this.renderCount++\r\n    }\r\n  }\r\n  \r\n  class Boom {\r\n    constructor ({ origin, context, circleCount = 10, area }) {\r\n      this.origin = origin\r\n      this.context = context\r\n      this.circleCount = circleCount\r\n      this.area = area\r\n      this.stop = false\r\n      this.circles = []\r\n    }\r\n  \r\n    randomArray(range) {\r\n      const length = range.length\r\n      const randomIndex = Math.floor(length * Math.random())\r\n      return range[randomIndex]\r\n    }\r\n  \r\n    randomColor() {\r\n      const range = ['8', '9', 'A', 'B', 'C', 'D', 'E', 'F']\r\n      return '#' + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range)\r\n    }\r\n  \r\n    randomRange(start, end) {\r\n      return (end - start) * Math.random() + start\r\n    }\r\n  \r\n    init() {\r\n      for(let i = 0; i < this.circleCount; i++) {\r\n        const circle = new Circle({\r\n          context: this.context,\r\n          origin: this.origin,\r\n          color: this.randomColor(),\r\n          angle: this.randomRange(Math.PI - 1, Math.PI + 1),\r\n          speed: this.randomRange(1, 6)\r\n        })\r\n        this.circles.push(circle)\r\n      }\r\n    }\r\n  \r\n    move() {\r\n      this.circles.forEach((circle, index) => {\r\n        if (circle.position.x > this.area.width || circle.position.y > this.area.height) {\r\n          return this.circles.splice(index, 1)\r\n        }\r\n        circle.move()\r\n      })\r\n      if (this.circles.length == 0) {\r\n        this.stop = true\r\n      }\r\n    }\r\n  \r\n    draw() {\r\n      this.circles.forEach(circle => circle.draw())\r\n    }\r\n  }\r\n  \r\n  class CursorSpecialEffects {\r\n    constructor() {\r\n      this.computerCanvas = document.createElement('canvas')\r\n      this.renderCanvas = document.createElement('canvas')\r\n  \r\n      this.computerContext = this.computerCanvas.getContext('2d')\r\n      this.renderContext = this.renderCanvas.getContext('2d')\r\n  \r\n      this.globalWidth = window.innerWidth\r\n      this.globalHeight = window.innerHeight\r\n  \r\n      this.booms = []\r\n      this.running = false\r\n    }\r\n  \r\n    handleMouseDown(e) {\r\n      const boom = new Boom({\r\n        origin: { x: e.clientX, y: e.clientY },\r\n        context: this.computerContext,\r\n        area: {\r\n          width: this.globalWidth,\r\n          height: this.globalHeight\r\n        }\r\n      })\r\n      boom.init()\r\n      this.booms.push(boom)\r\n      this.running || this.run()\r\n    }\r\n  \r\n    handlePageHide() {\r\n      this.booms = []\r\n      this.running = false\r\n    }\r\n  \r\n    init() {\r\n      const style = this.renderCanvas.style\r\n      style.position = 'fixed'\r\n      style.top = style.left = 0\r\n      style.zIndex = '999999999999999999999999999999999999999999'\r\n      style.pointerEvents = 'none'\r\n  \r\n      style.width = this.renderCanvas.width = this.computerCanvas.width = this.globalWidth\r\n      style.height = this.renderCanvas.height = this.computerCanvas.height = this.globalHeight\r\n  \r\n      document.body.append(this.renderCanvas)\r\n  \r\n      window.addEventListener('mousedown', this.handleMouseDown.bind(this))\r\n      window.addEventListener('pagehide', this.handlePageHide.bind(this))\r\n    }\r\n  \r\n    run() {\r\n      this.running = true\r\n      if (this.booms.length == 0) {\r\n        return this.running = false\r\n      }\r\n  \r\n      requestAnimationFrame(this.run.bind(this))\r\n  \r\n      this.computerContext.clearRect(0, 0, this.globalWidth, this.globalHeight)\r\n      this.renderContext.clearRect(0, 0, this.globalWidth, this.globalHeight)\r\n  \r\n      this.booms.forEach((boom, index) => {\r\n        if (boom.stop) {\r\n          return this.booms.splice(index, 1)\r\n        }\r\n        boom.move()\r\n        boom.draw()\r\n      })\r\n      this.renderContext.drawImage(this.computerCanvas, 0, 0, this.globalWidth, this.globalHeight)\r\n    }\r\n  }\r\n  \r\n  const cursorSpecialEffects = new CursorSpecialEffects()\r\n  cursorSpecialEffects.init()"]}